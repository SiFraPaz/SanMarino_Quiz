<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>San Marino Gemeinde-Spiel</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
</head>
<body>
    <h1>San Marino Gemeinde-Spiel</h1>
    <div id="game">
        <p id="question">Klicke auf die Gemeinde: <span id="gemeinde-name"></span></p>
        <div id="map" style="height: 500px;"></div>
    </div>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="script.js"></script>
</body>
</html>
// Initialisiere die Karte
const map = L.map('map').setView([43.942, 12.457], 13);
// Füge eine OpenStreetMap-Kachel hinzu
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 18,
}).addTo(map);
// Funktion, um die nächste Gemeinde anzuzeigen
let currentGemeindeIndex = 0;
const gemeinden = []; // Hier werden die Namen der Gemeinden gespeichert
function showNextGemeinde() {
    const gemeinde = gemeinden[currentGemeindeIndex];
    document.getElementById('gemeinde-name').textContent = gemeinde;
}
// Lade die GeoJSON-Daten
fetch('export.geojson_SM.geojson')
    .then(response => response.json())
    .then(data => {
        L.geoJSON(data, {
            onEachFeature: function (feature, layer) {
                // Speichere den Namen der Gemeinde
                gemeinden.push(feature.properties.name);
                // Füge einen Klick-Listener hinzu
                layer.on('click', function () {
                    if (feature.properties.name === gemeinden[currentGemeindeIndex]) {
                        alert('Richtig!');
                        currentGemeindeIndex = (currentGemeindeIndex + 1) % gemeinden.length;
                        showNextGemeinde();
                    } else {
                        alert('Falsch, versuche es erneut!');
                    }
                });
            }
        }).addTo(map);
        // Starte das Spiel
        showNextGemeinde();
    })
    .catch(error => console.error('Fehler beim Laden der GeoJSON-Daten:', error));
